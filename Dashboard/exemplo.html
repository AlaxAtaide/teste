<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <script src="style/apexcharts.min.js"></script>
    <script type="text/javascript" src="style/jquery-3.6.1.js"></script>

    <!-- CDN do chartjs-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    

    

    <title>Dashboard Analytics GEPEF</title>

</head>

<body>

    <!--  Dashboard EMAILS RECEBIDOS - GRÁFICO DE PIZZA  --> 

    <h1>Dashboard Analytics GEPEF</h1>

    <section class="container">

        <div class="chartbox">
        <canvas id="myChart"></canvas>
        </div>
    <script type="text/javascript">
        
        $(document).ready(function() 
        {

            
        $.ajax ({
            url: 'dados.csv', 
            dataType: "text",
            contentType: "charset-utf-8",
        }).done(grafico);
        
        function grafico(data)
        {
            console.log(data);
            var dados = data.split(/\r?\n|\r/);
            console.log(dados);
            var dados0=dados[0].split(';');
            var dados1=dados[1].split(';');
            var dados2=dados[2].split(';');
            var dados3=dados[3].split(';');
            var dados4=dados[4].split(';');
            var dados5=dados[5].split(';');
            var dados6=dados[6].split(';');
            var dados7=dados[7].split(';');
            console.log(dados0);
            console.log(dados1);
            console.log(dados2);
            console.log(dados3);
            console.log(dados4);
            console.log(dados5);
            console.log(dados6);
            console.log(dados7);

            const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: [dados1[0], dados2[0], dados3[0], dados4[0], dados5[0], dados6[0], dados7[0]],
            datasets: [{
                label: '# Quantidade',
                data: [
                        dados1[11], 
                        dados2[11], 
                        dados3[11], 
                        dados4[11], 
                        dados5[11], 
                        dados6[11], 
                        dados7[11]
                    ],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
        }
    })
    </script>

 <!--  Dashboard EMAILS RECEBIDOS - GRÁFICO DE COLUNA OU LINES  --> 


    <div class="chartbox2">
    <canvas id="myChart2"></canvas>
    </div>

<script type="text/javascript">
        
    $(document).ready(function() 
    {

        
    $.ajax ({
        url: 'dados.csv', 
        dataType: "text",
        contentType: "charset-utf-8",
    }).done(grafico);
    
    function grafico(data)
    {
        console.log(data);
        var dados = data.split(/\r?\n|\r/);
        console.log(dados);
        var dados0=dados[0].split(';');
        var dados1=dados[1].split(';');
        var dados2=dados[2].split(';');
        var dados3=dados[3].split(';');
        var dados4=dados[4].split(';');
        var dados5=dados[5].split(';');
        var dados6=dados[6].split(';');
        var dados7=dados[7].split(';');
        console.log(dados0);
        console.log(dados1);
        console.log(dados2);
        console.log(dados3);
        console.log(dados4);
        console.log(dados5);
        console.log(dados6);
        console.log(dados7);

        const ctx = document.getElementById('myChart2').getContext('2d');
    const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [dados1[0], dados2[0], dados3[0], dados4[0], dados5[0], dados6[0], dados7[0]],
        datasets: [{
            label: '# Quantidade',
            data: [
                    dados1[11], 
                    dados2[11], 
                    dados3[11], 
                    dados4[11], 
                    dados5[11], 
                    dados6[11], 
                    dados7[11]
                ],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
    }
})
</script>
          
    </section>

</body>
</html>